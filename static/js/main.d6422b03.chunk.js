(this["webpackJsonphacker-news-clone"]=this["webpackJsonphacker-news-clone"]||[]).push([[0],{74:function(t,n,e){"use strict";e.r(n);var r=e(0),o=e(28),i=e.n(o),c=e(11),a=e(12),s=e(13),u=e(30),h=e.n(u),d=Object({NODE_ENV:"production",PUBLIC_URL:"/hackernewsreact",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL||"http://localhost:3000/",l={"Content-Type":"application/json",Accept:"application/json"},f=new(function(){function t(n){var e=n.baseURL,r=void 0===e?d:e,o=n.timeout,i=void 0===o?2e4:o,c=n.headers,s=void 0===c?l:c,u=n.auth;Object(a.a)(this,t);var f=h.a.create({baseURL:r,timeout:i,headers:s,auth:u});f.interceptors.response.use(this.handleSuccess,this.handleError),this.client=f}return Object(s.a)(t,[{key:"handleSuccess",value:function(t){return t}},{key:"handleError",value:function(t){return Promise.reject(t)}},{key:"get",value:function(t){return this.client.get(t).then((function(t){return t.data}))}},{key:"post",value:function(t,n){return this.client.post(t,n).then((function(t){return t.data}))}},{key:"put",value:function(t,n){return this.client.put(t,n).then((function(t){return t.data}))}},{key:"patch",value:function(t,n){return this.client.patch(t,n).then((function(t){return t.data}))}},{key:"delete",value:function(t){return this.client.delete(t).then((function(t){return t.data}))}}]),t}())({baseURL:"https://hacker-news.firebaseio.com/v0"}),S=".json?print=pretty",p={};p.getTopStoryIds=function(){return f.get("/topstories".concat(S))},p.getStory=function(t){return f.get("/item/".concat(t).concat(S))},p.getStoriesByPage=function(t,n){var e=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{begin:n*t,end:(n+1)*t}}(20,n),r=function(t){var n=t.begin,e=t.end;return t.items.slice(n,e)}({begin:e.begin,end:e.end,items:t}).map((function(t){return p.getStory(t)}));return Promise.all(r)};var b,g,O,j,y,E,m,T,_,v,x,C,I=p,R="@hnClone/story",F={FETCH_STORY_IDS_REQUEST:"".concat(R,"/FETCH_STORY_IDS_REQUEST"),FETCH_STORY_IDS_SUCCESS:"".concat(R,"/FETCH_STORY_IDS_SUCCESS"),FETCH_STORY_IDS_FAILURE:"".concat(R,"/FETCH_STORY_IDS_FAILURE"),FETCH_STORIES_REQUEST:"".concat(R,"/FETCH_STORIES_REQUEST"),FETCH_STORIES_SUCCESS:"".concat(R,"/FETCH_STORIES_SUCCESS"),FETCH_STORIES_FAILURE:"".concat(R,"/FETCH_STORIES_FAILURE")},w=function(t,n){return{type:t,payload:n}},H={fetchStoryIds:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){return n(w(F.FETCH_STORY_IDS_REQUEST),t),I.getTopStoryIds().then((function(t){return n(w(F.FETCH_STORY_IDS_SUCCESS,{storyIds:t})),n(H.fetchStories({storyIds:t,page:0})),t})).catch((function(t){return n(w(F.FETCH_STORY_IDS_FAILURE,t))}))}},fetchStories:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){n(w(F.FETCH_STORIES_REQUEST,t));var e=t.storyIds,r=t.page;return I.getStoriesByPage(e,r).then((function(t){return n(w(F.FETCH_STORIES_SUCCESS,{stories:t}))})).catch((function(t){return n(w(F.FETCH_STORIES_FAILURE,t))}))}}},U=H,k=e(31),D=Object(k.a)((function(t){return t.story.storyIds}),(function(t){return t.story.stories}),(function(t,n){return t.length>n.length})),L=e(41),A=e(40),P=e(32),Y=e(2),Q={background:"#272727",backgroundSecondary:"#393C3E",text:"#bfbebe",textSecondary:"#848886",border:"#272727"},M=e(5),z=e(39),B=e(33),N=e.n(B),K=function(t){var n="";return t&&(t.includes("//")||(t="http://".concat(t)),n=N.a.parse(t).hostname),n.includes("www.")&&(n=n.split("www.")[1]),n},W="https://news.ycombinator.com",J="".concat(W,"/item?id="),V="".concat(W,"/user?id="),q=function(t){var n=t.url,e=t.id,r="".concat(J).concat(e);return n||r},G=e(3),X=Y.c.li(b||(b=Object(G.a)(["\n  border-bottom: 1px solid ",";\n  padding: 14px 24px;\n  &:last-child {\n    border-bottom: none;\n  }\n"])),(function(t){return t.theme.border})),Z=Y.c.h3(g||(g=Object(G.a)(["\n  color: ",";\n  margin-top: 0;\n  margin-bottom: 6px;\n  font-weight: 400;\n  font-size: 16px;\n  letter-spacing: 0.4px;\n"])),(function(t){return t.theme.text})),$=Y.c.span(O||(O=Object(G.a)(["\n  color: ",";\n  font-size: 12px;\n"])),(function(t){return t.theme.textSecondary})),tt=Y.c.a(j||(j=Object(G.a)(["\n  color: ",";\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-direction: row;\n  align-items: center;\n  text-decoration: none;\n"])),(function(t){return t.theme.text})),nt=Y.c.div(y||(y=Object(G.a)(["\n  font-size: 14px;\n  color: ",";\n"])),(function(t){return t.theme.textSecondary})),et=Y.c.a(E||(E=Object(G.a)(["\n  color: ",";\n  &:visited {\n    color: ",";\n  }\n"])),(function(t){return t.theme.textSecondary}),(function(t){return t.theme.textSecondary})),rt=e(1),ot="noopener noreferrer nofollow",it=function(t){var n=t.by,e=t.kids,r=void 0===e?[]:e,o=(t.score,t.url),i=t.title,c=t.id,a=(t.type,t.time),s=K(o)||"new.ycombinator.com",u=q({url:o,id:c}),h="".concat(J).concat(c),d="".concat(V).concat(n);return Object(rt.jsxs)(X,{children:[Object(rt.jsx)(tt,{href:u,rel:ot,children:Object(rt.jsxs)(Z,{children:[i," ",Object(rt.jsxs)($,{children:["(",s,")"]})]})}),Object(rt.jsxs)(nt,{children:["9000 points by "," ",Object(rt.jsx)(et,{href:d,rel:ot,target:"_blank",children:n}),z.a(new Date(1e3*a).toISOString())," | ",Object(rt.jsxs)(et,{href:h,rel:ot,target:"_blank",children:[r.length," comments"]})]})]})},ct=Y.c.ul(m||(m=Object(G.a)(["\n  background-color:",";\n  border-radius: 4px;\n  margin-left:auto;\n  margin-right:auto;\n  margin-bottom:20px;\n  display:flex;\n  flex-direction:column;\n"])),(function(t){return t.theme.backgroundSecondary})),at=function(t){var n=t.stories;return Object(rt.jsx)(ct,{children:n.map((function(t){return Object(r.createElement)(it,Object(M.a)(Object(M.a)({},t),{},{key:t.id}))}))})},st=Object(Y.d)(T||(T=Object(G.a)(["\n  /**\n  * At the start of the animation the dot\n  * has an opacity of .2\n  */\n  0% {\n    opacity: .2;\n  }\n  /**\n  * At 20% the dot is fully visible and\n  * then fades out slowly\n  */\n  20% {\n    opacity: 1;\n  }\n  /**\n  * Until it reaches an opacity of .2 and\n  * the animation can start again\n  */\n  100% {\n    opacity: .2;\n  }\n"]))),ut=Y.c.div(_||(_=Object(G.a)(["\n  text-align: center;\n  span {\n    color: ",";\n    display: inline-block;\n    margin-left: 4px;\n    margin-right: 4px;\n    font-size: 80px;\n    line-height: 0.1;\n    /**\n    * Use the blink animation, which is defined above\n    */\n    animation-name: ",";\n    /**\n    * The total time of animation\n    */\n    animation-duration: 1s;\n    /**\n    * It will repeat itself forever\n    */\n    animation-iteration-count: infinite;\n    /**\n    * This makes sure that the starting style (opacity: .2)\n    * of the animation is applied before the animation starts.\n    * Otherwise we would see a short flash or would have\n    * to set the default styling of the dots to the same\n    * as the animation. Same applies for the ending styles.\n    */\n    animation-fill-mode: both;\n  }\n  span:nth-child(2) {\n    animation-delay: 0.2s;\n  }\n  span:nth-child(3) {\n    animation-delay: 0.4s;\n  }\n"])),(function(t){return t.theme.textSecondary}),st),ht=function(){return Object(rt.jsxs)(ut,{children:[Object(rt.jsx)("span",{children:"."}),Object(rt.jsx)("span",{children:"."}),Object(rt.jsx)("span",{children:"."})]})},dt=Y.c.div(v||(v=Object(G.a)(["\n  width: 85%;\n  margin-left: auto;\n  margin-right: auto;\n  height: 100%;\n  overflow: hidden;\n  padding-bottom: 200px;\n  background:#272727;\n  "," {\n    width: 96%;\n  }\n"])),"@media only screen and (max-width: 768px)"),lt=Y.c.h1(x||(x=Object(G.a)(["\n  color: ",";\n  font-size: 20px;\n  font-weight: 300;\n"])),(function(t){return t.theme.textSecondary})),ft=function(t){Object(L.a)(e,t);var n=Object(A.a)(e);function e(){var t;Object(a.a)(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=n.call.apply(n,[this].concat(o))).fetchStories=function(){var n=t.props,e=n.storyIds,r=n.page,o=n.fetchStories;n.isFetching||o({storyIds:e,page:r})},t}return Object(s.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchStoriesFirstPage()}},{key:"render",value:function(){var t=this.props,n=t.stories,e=t.hasMoreStories;return Object(rt.jsx)(Y.a,{theme:Q,children:Object(rt.jsx)("div",{children:Object(rt.jsxs)(dt,{children:[Object(rt.jsx)(lt,{children:"Hacker News Reader"}),Object(rt.jsx)(P.a,{dataLength:n.length,next:this.fetchStories,hasMore:e,loader:Object(rt.jsx)(ht,{}),style:{height:"100%",overflow:"visible"},children:Object(rt.jsx)(at,{stories:n})})]})})})}}]),e}(r.Component),St=Object(c.b)((function(t){return{stories:t.story.stories,page:t.story.page,storyIds:t.story.storyIds,isFetching:t.story.isFetching,hasMoreStories:D(t)}}),(function(t){return{fetchStoriesFirstPage:function(){return t(U.fetchStoryIds())},fetchStories:function(n){var e=n.storyIds,r=n.page;return t(U.fetchStories({storyIds:e,page:r}))}}}))(ft),pt=Object(Y.b)(C||(C=Object(G.a)(["\n    * {\n      box-sizing: border-box;\n    }\n    html, body {\n      font-family: Lato,Helvetica-Neue,Helvetica,Arial,sans-serif;\n      width: 100vw;\n      overflow-x: hidden;\n      margin: 0;\n      padding: 0;\n    }\n    ul {\n      list-style: none;\n      padding: 0;\n    }\n    a {\n      text-decoration: none;\n      &:visited {\n        color: inherit;\n      }\n    }\n  "]))),bt=e(6),gt={SET_THEME:"".concat("@hnClone/app","/SET_THEME")},Ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{theme:"dark"},n=arguments.length>1?arguments[1]:void 0,e=n.type,r=n.payload;switch(e){case gt.SET_THEME:return Object(M.a)(Object(M.a)({},t),r);default:return t}},jt=e(17),yt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{storyIds:[],stories:[],page:0,isFetching:!1,error:""},n=arguments.length>1?arguments[1]:void 0,e=n.type,r=n.payload;switch(e){case F.FETCH_STORY_IDS_REQUEST:case F.FETCH_STORIES_REQUEST:return Object(M.a)(Object(M.a)({},t),{},{isFetching:!0});case F.FETCH_STORY_IDS_SUCCESS:return Object(M.a)(Object(M.a)({},t),r);case F.FETCH_STORIES_SUCCESS:return Object(M.a)(Object(M.a)({},t),{},{stories:[].concat(Object(jt.a)(t.stories),Object(jt.a)(r.stories)),page:t.page+1,isFetching:!1});default:return t}},Et=Object(bt.c)({app:Ot,story:yt}),mt=e(37),Tt=(e(38),[]);Tt.push(mt.a);var _t=Object(bt.d)(bt.a.apply(void 0,Tt)),vt=function(t){return Object(bt.e)(Et,t,_t)},xt=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,75)).then((function(n){var e=n.getCLS,r=n.getFID,o=n.getFCP,i=n.getLCP,c=n.getTTFB;e(t),r(t),o(t),i(t),c(t)}))};I.getTopStoryIds().then((function(t){return console.log(t)}));!function(){var t=vt({});t.dispatch({type:"@hnClone/@@INIT"}),i.a.render(Object(rt.jsx)(c.a,{store:t,children:Object(rt.jsxs)("div",{children:[Object(rt.jsx)(pt,{}),Object(rt.jsx)(St,{})]})}),document.getElementById("root"))}(),xt()}},[[74,1,2]]]);
//# sourceMappingURL=main.d6422b03.chunk.js.map